@baseUrl = http://localhost:8888
@contentType = application/json
@userEmail = user1@example.com
@userPassword = Passw0rd!
# these are runtime variables ‚Äì the REST Client will reuse them
@authToken = {{login.response.body.$.access_token}}

### 1Ô∏è‚É£  Health check
GET {{baseUrl}}/health
Accept: application/json

### 2Ô∏è‚É£  Register (Signup)
POST {{baseUrl}}/identity/api/auth/signup
Content-Type: {{contentType}}

{
  "email": "{{userEmail}}",
  "password": "{{userPassword}}",
  "first_name": "John",
  "last_name": "Doe",
  "mobile": "1234567890"
}

### 3Ô∏è‚É£  Login to obtain JWT token
# The token from this response is stored in {{authToken}}
POST {{baseUrl}}/identity/api/auth/login
Content-Type: {{contentType}}

{
  "email": "{{userEmail}}",
  "password": "{{userPassword}}"
}

### 4Ô∏è‚É£  Get current user info
GET {{baseUrl}}/identity/api/user/me
Authorization: Bearer {{authToken}}
Accept: application/json

### 5Ô∏è‚É£  List vehicles
GET {{baseUrl}}/vehicle/api/vehicles
Authorization: Bearer {{authToken}}
Accept: application/json

### 6Ô∏è‚É£  Add new vehicle
POST {{baseUrl}}/vehicle/api/vehicles
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "vin": "1234ABC56789",
  "make": "Toyota",
  "model": "Corolla",
  "year": 2024
}

### 7Ô∏è‚É£  Validate coupon
POST {{baseUrl}}/community/api/v2/coupon/validate-coupon
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "coupon_code": "FREE-SERVICE-2025"
}

### 8Ô∏è‚É£  Post a comment in community forum
POST {{baseUrl}}/community/api/v2/posts
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "title": "Testing crAPI forum",
  "content": "This is a sample post from REST client"
}

### 9Ô∏è‚É£  Workshop ‚Äì request repair quote
POST {{baseUrl}}/workshop/api/repairs
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "vin": "1234ABC56789",
  "issue": "Engine check light ON",
  "description": "Diagnostics required"
}

### üîü  Logout
POST {{baseUrl}}/identity/api/auth/logout
Authorization: Bearer {{authToken}}
